<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
    <title>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ–ø—Ä–æ—Å</title>

    <style>
        :root{
            --bg1:#0b1020;
            --bg2:#0b2a3c;
            --card: rgba(255,255,255,.08);
            --card2: rgba(255,255,255,.06);
            --stroke: rgba(255,255,255,.14);
            --text: rgba(255,255,255,.92);
            --muted: rgba(255,255,255,.70);
            --accent:#7c5cff;
            --accent2:#00d4ff;
            --good:#33d69f;
            --bad:#ff5c7a;
            --shadow: 0 24px 80px rgba(0,0,0,.45);
        }

        *{ box-sizing:border-box; }
        html,body{ height:100%; }

        /* ‚úÖ –¢–û–ü-–õ–≠–ô–ê–£–¢: –Ω–∏—á–µ–≥–æ –Ω–µ ‚Äú—É–µ–∑–∂–∞–µ—Ç‚Äù –≤–≤–µ—Ä—Ö –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–∞—Ö */
        body{
            margin:0;
            color:var(--text);
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
            background:
                    radial-gradient(1200px 800px at 20% 10%, rgba(124,92,255,.35), transparent 60%),
                    radial-gradient(900px 700px at 80% 30%, rgba(0,212,255,.25), transparent 55%),
                    linear-gradient(135deg, var(--bg1), var(--bg2));

            min-height: 100svh;
            overflow-x:hidden;
            overflow-y:auto;

            /* safe area –¥–ª—è iPhone + –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
            padding:
                    max(14px, env(safe-area-inset-top))
                    14px
                    max(18px, env(safe-area-inset-bottom));
        }

        .card{
            width: min(900px, 100%);
            margin: 0 auto;
            background: linear-gradient(180deg, var(--card), var(--card2));
            border:1px solid var(--stroke);
            border-radius: 22px;
            box-shadow: var(--shadow);
            overflow:hidden;
        }

        .header{
            padding: clamp(14px, 2.2vw, 22px) clamp(14px, 2.2vw, 20px);
            border-bottom:1px solid rgba(255,255,255,.10);
            display:flex;
            gap:12px;
            align-items:flex-start;
            justify-content:space-between;
            flex-wrap:wrap;
        }

        .brand{
            display:flex;
            gap:12px;
            align-items:center;
            min-width: min(420px, 100%);
        }

        .logo{
            width:44px; height:44px;
            border-radius:14px;
            background:
                    radial-gradient(12px 12px at 30% 30%, rgba(255,255,255,.45), transparent 60%),
                    linear-gradient(135deg, rgba(124,92,255,1), rgba(0,212,255,1));
            box-shadow: 0 12px 30px rgba(124,92,255,.18);
            flex:0 0 auto;
        }

        h1{
            margin:0;
            font-size: 18px;
            line-height:1.2;
            letter-spacing:.2px;
        }

        .sub{
            margin-top:6px;
            color:var(--muted);
            font-size:13.5px;
            line-height:1.35;
        }

        .pill{
            display:inline-flex;
            align-items:center;
            gap:8px;
            padding:10px 12px;
            border-radius:999px;
            background: rgba(255,255,255,.08);
            border:1px solid rgba(255,255,255,.12);
            color: var(--muted);
            font-size:12.5px;
            user-select:none;
            white-space:nowrap;
        }

        .dot{
            width:8px; height:8px; border-radius:999px;
            background: linear-gradient(180deg, var(--accent), var(--accent2));
            box-shadow: 0 0 0 6px rgba(124,92,255,.12);
        }

        .content{
            padding: clamp(14px, 2.2vw, 20px);
        }

        .q{
            padding:14px 14px 10px;
            border:1px solid rgba(255,255,255,.10);
            background: rgba(255,255,255,.04);
            border-radius:16px;
            margin-bottom:12px;
        }

        .q-title{
            font-size:14.5px;
            line-height:1.35;
            margin:0 0 10px;
        }

        /* ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:
           - –¥–µ—Å–∫—Ç–æ–ø: 3
           - –ø–ª–∞–Ω—à–µ—Ç: 2
           - —Ç–µ–ª–µ—Ñ–æ–Ω: 1
        */
        .options{
            display:grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap:10px;
        }
        .options.two{
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        @media (max-width: 760px){
            .options{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
            .options.two{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
        }

        @media (max-width: 520px){
            .options{ grid-template-columns: 1fr; }
            .options.two{ grid-template-columns: 1fr; }
            .pill{ width:100%; justify-content:center; }
            .brand{ min-width: 100%; }
        }

        .opt{ position:relative; }
        .opt input{
            position:absolute;
            opacity:0;
            pointer-events:none;
        }

        .opt label{
            display:flex;
            align-items:center;
            justify-content:space-between;
            gap:10px;
            padding:12px 12px;
            border-radius:14px;
            border:1px solid rgba(255,255,255,.12);
            background: rgba(0,0,0,.12);
            cursor:pointer;
            user-select:none;
            transition: transform .08s ease, border-color .15s ease, background .15s ease;
            min-height: 48px;
        }

        .opt label:hover{
            transform: translateY(-1px);
            border-color: rgba(255,255,255,.20);
        }

        .k{
            display:flex;
            align-items:center;
            gap:10px;
            font-size:14px;
            min-width:0;
        }

        .badge{
            font-size:12px;
            color: rgba(255,255,255,.78);
            padding:6px 10px;
            border-radius:999px;
            background: rgba(255,255,255,.08);
            border:1px solid rgba(255,255,255,.10);
            flex:0 0 auto;
        }

        /* ‚úÖ –ù–∞ –æ—á–µ–Ω—å —É–∑–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö –±–µ–π–¥–∂ –ø–µ—Ä–µ–Ω–æ—Å–∏–º –≤–Ω–∏–∑ */
        @media (max-width: 360px){
            .opt label{ align-items:flex-start; }
            .badge{ margin-left: 28px; }
        }

        .radio{
            width:18px; height:18px;
            border-radius:999px;
            border:2px solid rgba(255,255,255,.35);
            box-shadow: inset 0 0 0 3px rgba(0,0,0,.25);
            flex:0 0 auto;
        }

        .opt input:checked + label{
            border-color: rgba(124,92,255,.55);
            background: linear-gradient(135deg, rgba(124,92,255,.20), rgba(0,212,255,.10));
        }
        .opt input:checked + label .radio{
            border-color: rgba(255,255,255,.65);
            box-shadow: inset 0 0 0 5px rgba(124,92,255,.75);
        }

        .grid2{
            display:grid;
            grid-template-columns: 1fr 1fr;
            gap:12px;
        }
        @media (max-width: 780px){
            .grid2{ grid-template-columns: 1fr; }
        }

        textarea{
            width:100%;
            resize: vertical;
            min-height: 96px;
            padding:12px 12px;
            border-radius:14px;
            border:1px solid rgba(255,255,255,.14);
            outline:none;
            background: rgba(0,0,0,.18);
            color:var(--text);
            font-size:14px;
        }
        textarea::placeholder{ color: rgba(255,255,255,.45); }

        .actions{
            display:flex;
            gap:12px;
            align-items:center;
            justify-content:space-between;
            flex-wrap:wrap;
            margin-top:12px;
        }

        .btn{
            border:0;
            padding:12px 14px;
            border-radius:14px;
            cursor:pointer;
            color: rgba(255,255,255,.95);
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            font-weight:800;
            letter-spacing:.2px;
            box-shadow: 0 18px 40px rgba(0,212,255,.12);
            transition: transform .08s ease, filter .15s ease, opacity .15s ease;
            min-width: 180px;
        }
        .btn:hover{ transform: translateY(-1px); filter: brightness(1.02); }
        .btn:disabled{ opacity:.55; cursor:not-allowed; transform:none; }

        /* ‚úÖ –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –∫–Ω–æ–ø–∫–∞ –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
        @media (max-width: 520px){
            .btn{ width:100%; min-width: 0; }
            .actions{ gap:10px; }
        }

        .hint{
            color: var(--muted);
            font-size:12.5px;
            line-height:1.35;
            max-width: 520px;
        }

        .toast{
            margin-top:12px;
            padding:12px 12px;
            border-radius:14px;
            border:1px solid rgba(255,255,255,.14);
            background: rgba(0,0,0,.18);
            display:none;
            font-size:13.5px;
            line-height:1.35;
            word-break: break-word;
        }
        .toast.show{ display:block; }
        .toast.good{ border-color: rgba(51,214,159,.35); }
        .toast.bad{ border-color: rgba(255,92,122,.35); }

        .foot{
            padding:14px 20px;
            border-top:1px solid rgba(255,255,255,.10);
            color: rgba(255,255,255,.45);
            font-size:12px;
            display:flex;
            justify-content:space-between;
            gap:10px;
            flex-wrap:wrap;
        }

        @media (max-width: 520px){
            .foot{ flex-direction:column; }
        }
    </style>
</head>

<body>
<div class="card">
    <div class="header">
        <div class="brand">
            <div class="logo" aria-hidden="true"></div>
            <div>
                <h1>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ–ø—Ä–æ—Å</h1>
                <div class="sub">–û—Ç–≤–µ—Ç—å –Ω–∞ 3 –≤–æ–ø—Ä–æ—Å–∞ –∏ –æ—Ç–ø—Ä–∞–≤—å. –ù–∏–∫/–∫–æ–º–º–µ–Ω—Ç ‚Äî –ø–æ –∂–µ–ª–∞–Ω–∏—é.</div>
            </div>
        </div>

        <div class="pill" aria-live="polite">
            <span class="dot"></span>
            <span id="statusText">–≥–æ—Ç–æ–≤–æ</span>
        </div>
    </div>

    <div class="content">
        <form id="surveyForm">
            <div class="q">
                <p class="q-title"><b>1)</b> –ï—Å–ª–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂ <b>–Ω–µ –ø–ª–∞—Ç–∏—Ç</b> –∑–∞ –∏–≥—Ä—ã ‚Äî –±—É–¥–µ—à—å –∏–≥—Ä–∞—Ç—å –∏–ª–∏ –Ω–µ—Ç?</p>
                <div class="options two">
                    <div class="opt">
                        <input type="radio" id="q1_yes" name="q1" value="–î–∞, –±—É–¥—É –∏–≥—Ä–∞—Ç—å" required>
                        <label for="q1_yes">
                            <span class="k"><span class="radio"></span>–î–∞</span>
                            <span class="badge">–∏–≥—Ä–∞—é</span>
                        </label>
                    </div>
                    <div class="opt">
                        <input type="radio" id="q1_no" name="q1" value="–ù–µ—Ç, –Ω–µ –±—É–¥—É –∏–≥—Ä–∞—Ç—å" required>
                        <label for="q1_no">
                            <span class="k"><span class="radio"></span>–ù–µ—Ç</span>
                            <span class="badge">–ø–∞—Å</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="q">
                <p class="q-title"><b>2)</b> –ë—É–¥–µ—à—å –ª–∏ —Å–∫–∏–¥—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Ñ–æ—Ä–º—É, –µ—Å–ª–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂ –≤ –º–∏–Ω—É—Å?</p>
                <div class="options two">
                    <div class="opt">
                        <input type="radio" id="q2_yes" name="q2" value="–î–∞, —Å–∫–∏–¥—ã–≤–∞—é—Å—å" required>
                        <label for="q2_yes">
                            <span class="k"><span class="radio"></span>–î–∞</span>
                            <span class="badge">–∑–∞</span>
                        </label>
                    </div>
                    <div class="opt">
                        <input type="radio" id="q2_no" name="q2" value="–ù–µ—Ç, –Ω–µ —Å–∫–∏–¥—ã–≤–∞—é—Å—å" required>
                        <label for="q2_no">
                            <span class="k"><span class="radio"></span>–ù–µ—Ç</span>
                            <span class="badge">–ø—Ä–æ—Ç–∏–≤</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="q">
                <p class="q-title"><b>3)</b> –ï—Å–ª–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂ –∞–ø –ø–ª–∞—Ç–∏—Ç –∑–∞ –∏–≥—Ä—ã ‚Äî –∫–∏–¥–∞–µ–º –∫–∞–∂–¥—É—é –∏–≥—Ä—É –Ω–∞ –±–∞–Ω–∫—É, –∞ –≤ –∫–æ–Ω—Ü–µ –¥–µ–ª–∞–µ–º —à–∞—à–ª—ã–∫–∏ (–∏–ª–∏ –∫–æ–≥–¥–∞ —Å—É–º–º–∞ —Ö–≤–∞—Ç–∞–µ—Ç)?</p>
                <div class="options">
                    <div class="opt">
                        <input type="radio" id="q3_yes" name="q3" value="–î–∞, –∏–¥–µ—è —Ç–æ–ø (–±–∞–Ω–∫–∞ ‚Üí —à–∞—à–ª—ã–∫–∏)" required>
                        <label for="q3_yes">
                            <span class="k"><span class="radio"></span>–î–∞</span>
                            <span class="badge">—Ç–æ–ø</span>
                        </label>
                    </div>
                    <div class="opt">
                        <input type="radio" id="q3_mid" name="q3" value="–î–∞, –Ω–æ —Å —É—Å–ª–æ–≤–∏—è–º–∏/–ª–∏–º–∏—Ç–∞–º–∏" required>
                        <label for="q3_mid">
                            <span class="k"><span class="radio"></span>–° —É—Å–ª–æ–≤–∏—è–º–∏</span>
                            <span class="badge">–ª–∏–º–∏—Ç</span>
                        </label>
                    </div>
                    <div class="opt">
                        <input type="radio" id="q3_no" name="q3" value="–ù–µ—Ç, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é" required>
                        <label for="q3_no">
                            <span class="k"><span class="radio"></span>–ù–µ—Ç</span>
                            <span class="badge">–Ω–µ—Ç</span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="grid2">
                <div class="q" style="margin-bottom:0">
                    <p class="q-title">–ò–º—è / –Ω–∏–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</p>
                    <textarea id="name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ò–≤–∞–Ω / @nickname" style="min-height:60px"></textarea>
                </div>
                <div class="q" style="margin-bottom:0">
                    <p class="q-title">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</p>
                    <textarea id="comment" placeholder="–õ—é–±—ã–µ —É—Å–ª–æ–≤–∏—è/–ª–∏–º–∏—Ç—ã/–º—ã—Å–ª–∏"></textarea>
                </div>
            </div>

            <div class="actions">
                <button class="btn" id="sendBtn" type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                <div class="hint">–ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –∫–Ω–æ–ø–∫–∞ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É, –∞ –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —Å–∫—Ä–æ–ª–ª–∏—Ç—Å—è.</div>
            </div>

            <div id="toast" class="toast"></div>
        </form>
    </div>

    <div class="foot">
        <span>¬© –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ–ø—Ä–æ—Å</span>
        <span>–í–µ—Ä—Å–∏—è: 1.2 (full responsive)</span>
    </div>
</div>

<script>
    // ‚ö†Ô∏è –¢–æ–∫–µ–Ω –≤ –∫–ª–∏–µ–Ω—Ç–µ –≤–∏–¥–µ–Ω. –î–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Å–∞–π—Ç–∞ ‚Äî –ª—É—á—à–µ —á–µ—Ä–µ–∑ –±—ç–∫–µ–Ω–¥.
    const BOT_TOKEN = "8318160075:AAGt3djvGYToKGjAeDVZ91jfqmGyH1GJjC0";
    const CHAT_ID = "497578008";

    const form = document.getElementById('surveyForm');
    const btn = document.getElementById('sendBtn');
    const toast = document.getElementById('toast');
    const statusText = document.getElementById('statusText');

    function showToast(message, type){
        toast.className = "toast show " + (type || "");
        toast.textContent = message;
    }
    function hideToast(){
        toast.className = "toast";
        toast.textContent = "";
    }
    function getChecked(name){
        const el = form.querySelector(`input[name="${name}"]:checked`);
        return el ? el.value : "";
    }
    function esc(s){
        return String(s || "")
            .replace(/\*/g, "\\*")
            .replace(/_/g, "\\_")
            .replace(/`/g, "\\`");
    }

    async function sendToTelegram(text){
        const url = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
        const payload = { chat_id: CHAT_ID, text, parse_mode: "Markdown" };

        const res = await fetch(url, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload)
        });

        const data = await res.json();
        if(!data.ok) throw new Error(data.description || "Telegram API error");
        return data;
    }

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        hideToast();

        const q1 = getChecked('q1');
        const q2 = getChecked('q2');
        const q3 = getChecked('q3');

        if(!q1 || !q2 || !q3){
            showToast("–û—Ç–≤–µ—Ç—å –Ω–∞ –≤—Å–µ 3 –≤–æ–ø—Ä–æ—Å–∞ üôÇ", "bad");
            return;
        }

        const name = document.getElementById('name').value.trim();
        const comment = document.getElementById('comment').value.trim();
        const now = new Date();

        const msg =
            `*üìù –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ–ø—Ä–æ—Å*
*–î–∞—Ç–∞:* ${now.toLocaleString()}

*1)* ${esc(q1)}
*2)* ${esc(q2)}
*3)* ${esc(q3)}

*–ù–∏–∫:* ${esc(name || "‚Äî")}
*–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:* ${esc(comment || "‚Äî")}`;

        try{
            btn.disabled = true;
            statusText.textContent = "–æ—Ç–ø—Ä–∞–≤–ª—è–µ–º‚Ä¶";
            await sendToTelegram(msg);
            statusText.textContent = "–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ";
            showToast("–ì–æ—Ç–æ–≤–æ! ‚úÖ", "good");
            form.reset();
            setTimeout(() => { statusText.textContent = "–≥–æ—Ç–æ–≤–æ"; }, 1400);
        }catch(err){
            statusText.textContent = "–æ—à–∏–±–∫–∞";
            showToast("–ù–µ –æ—Ç–ø—Ä–∞–≤–∏–ª–æ—Å—å: " + (err.message || err), "bad");
            setTimeout(() => { statusText.textContent = "–≥–æ—Ç–æ–≤–æ"; }, 1600);
        }finally{
            setTimeout(() => { btn.disabled = false; }, 650);
        }
    });
</script>
</body>
</html>